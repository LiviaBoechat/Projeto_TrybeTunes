{"ast":null,"code":"var _jsxFileName = \"/home/livia/Documentos/projetos/portifolio/Projeto_TrybeTunes/src/pages/Search.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport Header from '../Header';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport '../search.css';\n// import { Redirect } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Search extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      artistName: '',\n      isSearchButtonDisabled: true,\n      loading: false,\n      searchName: '',\n      searchAlbum: [],\n      // apiReturn: true,\n      errorMessage: ''\n    };\n    this.handleChange = _ref => {\n      let {\n        target\n      } = _ref;\n      const {\n        name\n      } = target;\n      const value = target.type === 'checkbox' ? target.checked : target.value;\n      this.setState({\n        [name]: value\n      }, () => this.validateButton());\n    };\n    this.validateButton = () => {\n      const {\n        artistName\n      } = this.state;\n      const minLetters = 2;\n      this.setState({\n        isSearchButtonDisabled: artistName.length < minLetters\n      });\n    };\n    this.searchButtonClick = async () => {\n      const {\n        artistName\n      } = this.state;\n      this.setState({\n        loading: true\n      });\n      const albuns = await searchAlbumsAPI(artistName);\n      if (albuns.length !== 0) {\n        this.setState({\n          searchName: artistName,\n          searchAlbum: albuns,\n          artistName: '',\n          loading: false\n        });\n      } else {\n        this.setState({\n          errorMessage: 'Nenhum álbum foi encontrado',\n          artistName: '',\n          loading: false\n        });\n      }\n    };\n  }\n  render() {\n    const {\n      artistName,\n      isSearchButtonDisabled,\n      loading,\n      searchName,\n      searchAlbum,\n      errorMessage\n    } = this.state;\n    if (loading) return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Carregando...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 25\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"page-search\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-ball-conainer\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"search-ball\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"search-input\",\n              \"data-testid\": \"search-artist-input\",\n              id: \"artistName\",\n              type: \"text\",\n              name: \"artistName\",\n              value: artistName,\n              onChange: this.handleChange,\n              placeholder: \"fa\\xE7a sua pesquisa\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"search-button\",\n              \"data-testid\": \"search-artist-button\",\n              type: \"button\",\n              name: \"isSearchButtonDisabled\",\n              value: isSearchButtonDisabled,\n              onClick: this.searchButtonClick,\n              disabled: isSearchButtonDisabled,\n              children: \"pesquisar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-albuns-container\",\n          children: [errorMessage === '' && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"result\",\n            children: `Resultado de álbuns de: ${searchName}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 16\n          }, this), errorMessage === '' ? searchAlbum.map(eachAlbum => /*#__PURE__*/_jsxDEV(Link, {\n            className: \"music-card\",\n            to: `/album/${eachAlbum.collectionId}`,\n            \"data-testid\": `link-to-album-${eachAlbum.collectionId}`,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"music-image\",\n              src: eachAlbum.artworkUrl100,\n              alt: eachAlbum.artistName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"music-album\",\n                children: eachAlbum.collectionName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"music-artist\",\n                children: eachAlbum.artistName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 19\n            }, this)]\n          }, eachAlbum.artistName, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 17\n          }, this)) : /*#__PURE__*/_jsxDEV(\"span\", {\n            children: errorMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default Search;\nSearch.propTypes = {\n  artistName: PropTypes.string,\n  isSearchButtonDisabled: PropTypes.bool\n}.isRequired;","map":{"version":3,"names":["React","Component","Link","PropTypes","Header","searchAlbumsAPI","Search","state","artistName","isSearchButtonDisabled","loading","searchName","searchAlbum","errorMessage","handleChange","target","name","value","type","checked","setState","validateButton","minLetters","length","searchButtonClick","albuns","render","map","eachAlbum","collectionId","artworkUrl100","collectionName","propTypes","string","bool","isRequired"],"sources":["/home/livia/Documentos/projetos/portifolio/Projeto_TrybeTunes/src/pages/Search.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport Header from '../Header';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport '../search.css';\n// import { Redirect } from 'react-router-dom';\n\nclass Search extends Component {\n  state = {\n    artistName: '',\n    isSearchButtonDisabled: true,\n    loading: false,\n    searchName: '',\n    searchAlbum: [],\n    // apiReturn: true,\n    errorMessage: '',\n  };\n\n  handleChange = ({ target }) => {\n    const { name } = target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n\n    this.setState(({\n      [name]: value,\n    }), () => this.validateButton());\n  };\n\n  validateButton = () => {\n    const { artistName } = this.state;\n    const minLetters = 2;\n\n    this.setState({\n      isSearchButtonDisabled: artistName.length < minLetters,\n    });\n  };\n\n  searchButtonClick = async () => {\n    const { artistName } = this.state;\n\n    this.setState({\n      loading: true,\n    });\n\n    const albuns = await searchAlbumsAPI(artistName);\n\n    if (albuns.length !== 0) {\n      this.setState({\n        searchName: artistName,\n        searchAlbum: albuns,\n        artistName: '',\n        loading: false,\n      });\n    } else {\n      this.setState({\n        errorMessage: 'Nenhum álbum foi encontrado',\n        artistName: '',\n        loading: false,\n      });\n    }\n  };\n\n  render() {\n    const {\n      artistName,\n      isSearchButtonDisabled,\n      loading,\n      searchName,\n      searchAlbum,\n      errorMessage,\n    } = this.state;\n\n    if (loading) return <h1>Carregando...</h1>;\n\n    return (\n      <div data-testid=\"page-search\">\n        <Header />\n        <div className=\"search-container\">\n          <div className=\"search-ball-conainer\">\n            <form className=\"search-ball\">\n              <input\n                className=\"search-input\"\n                data-testid=\"search-artist-input\"\n                id=\"artistName\"\n                type=\"text\"\n                name=\"artistName\"\n                value={ artistName }\n                onChange={ this.handleChange }\n                placeholder=\"faça sua pesquisa\"\n              />\n              <button\n                className=\"search-button\"\n                data-testid=\"search-artist-button\"\n                type=\"button\"\n                name=\"isSearchButtonDisabled\"\n                value={ isSearchButtonDisabled }\n                onClick={ this.searchButtonClick }\n                disabled={ isSearchButtonDisabled }\n              >\n                pesquisar\n              </button>\n            </form>\n          </div>\n          <div className=\"search-albuns-container\">\n            { errorMessage === ''\n            && <p className=\"result\">{`Resultado de álbuns de: ${searchName}`}</p> }\n            { errorMessage === '' ? (\n              searchAlbum.map((eachAlbum) => (\n                <Link\n                  className=\"music-card\"\n                  key={ eachAlbum.artistName }\n                  to={ `/album/${eachAlbum.collectionId}` }\n                  data-testid={ `link-to-album-${eachAlbum.collectionId}` }\n                >\n                  <img\n                    className=\"music-image\"\n                    src={ eachAlbum.artworkUrl100 }\n                    alt={ eachAlbum.artistName }\n                  />\n                  <div className=\"text\">\n                    <h4 className=\"music-album\">\n                      { eachAlbum.collectionName }\n                    </h4>\n                    <h5 className=\"music-artist\">{ eachAlbum.artistName }</h5>\n                  </div>\n                </Link>\n              ))) : <span>{ errorMessage }</span> }\n          </div>\n        </div>\n\n      </div>\n    );\n  }\n}\n\nexport default Search;\n\nSearch.propTypes = {\n  artistName: PropTypes.string,\n  isSearchButtonDisabled: PropTypes.bool,\n}.isRequired;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}