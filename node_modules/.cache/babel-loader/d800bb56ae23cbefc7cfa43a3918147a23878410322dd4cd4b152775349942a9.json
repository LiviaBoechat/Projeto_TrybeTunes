{"ast":null,"code":"var _jsxFileName = \"/home/livia/Documentos/projetos/portifolio/Projeto_TrybeTunes/src/pages/Favorites.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Header from '../Header';\nimport { getFavoriteSongs, removeSong } from '../services/favoriteSongsAPI';\nimport MusicCard from './MusicCard';\nimport './favorites.css';\n\n// import { Redirect } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Favorites extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      getfavorites: [],\n      loading: false,\n      isChecked: true\n    };\n    this.recoverFavorites = async () => {\n      const favoritedSongs = await getFavoriteSongs();\n      this.setState({\n        getfavorites: favoritedSongs\n      });\n    };\n    this.handleChange = async song => {\n      this.setState({\n        loading: true\n      });\n      await removeSong(song);\n      this.setState({\n        loading: false\n      });\n      this.recoverFavorites();\n    };\n  }\n  componentDidMount() {\n    this.recoverFavorites();\n  }\n  render() {\n    const {\n      getfavorites,\n      isChecked,\n      loading\n    } = this.state;\n    if (loading) return /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"Carregando...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 25\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"page-favorites\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"M\\xFAsicas Favoritas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), !getfavorites ? /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Voc\\xEA n\\xE3o tem m\\xFAsicas salvas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"favorite-songs-list-container\",\n        children: getfavorites.map((eachMusic, index) => /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(MusicCard, {\n              index: index,\n              song: eachMusic,\n              handleChange: this.handleChange,\n              checkedBox: isChecked\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 19\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default Favorites;\nFavorites.propTypes = {\n  favoriteSongs: PropTypes.shape({})\n}.isRequired;","map":{"version":3,"names":["React","Component","PropTypes","Header","getFavoriteSongs","removeSong","MusicCard","Favorites","state","getfavorites","loading","isChecked","recoverFavorites","favoritedSongs","setState","handleChange","song","componentDidMount","render","map","eachMusic","index","propTypes","favoriteSongs","shape","isRequired"],"sources":["/home/livia/Documentos/projetos/portifolio/Projeto_TrybeTunes/src/pages/Favorites.js"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Header from '../Header';\nimport { getFavoriteSongs, removeSong } from '../services/favoriteSongsAPI';\nimport MusicCard from './MusicCard';\nimport './favorites.css';\n\n// import { Redirect } from 'react-router-dom';\n\nclass Favorites extends Component {\n  state = {\n    getfavorites: [],\n    loading: false,\n    isChecked: true,\n  };\n\n  componentDidMount() {\n    this.recoverFavorites();\n  }\n\n  recoverFavorites = async () => {\n    const favoritedSongs = await getFavoriteSongs();\n\n    this.setState({\n      getfavorites: favoritedSongs,\n    });\n  };\n\n  handleChange = async (song) => {\n    this.setState(({\n      loading: true,\n    }));\n\n    await removeSong(song);\n\n    this.setState(({\n      loading: false,\n    }));\n\n    this.recoverFavorites();\n  };\n\n  render() {\n    const { getfavorites, isChecked, loading } = this.state;\n\n    if (loading) return <h4>Carregando...</h4>;\n\n    return (\n      <div data-testid=\"page-favorites\">\n        <Header />\n        <h1>Músicas Favoritas</h1>\n        { !getfavorites\n          ? <h4>Você não tem músicas salvas</h4>\n          : (\n            <div className=\"favorite-songs-list-container\">\n              {getfavorites.map((eachMusic, index) => (\n                <ul key={ index } >\n                  <li>\n                    <MusicCard\n                      index={ index }\n                      song={ eachMusic }\n                      handleChange={ this.handleChange }\n                      checkedBox={ isChecked }\n                    />\n                  </li>\n                </ul>\n              ))}\n            </div>\n          )}\n      </div>\n    );\n  }\n}\n\nexport default Favorites;\n\nFavorites.propTypes = {\n  favoriteSongs: PropTypes.shape({\n  }),\n}.isRequired;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAOC,MAAM,MAAM,WAAW;AAC9B,SAASC,gBAAgB,EAAEC,UAAU,QAAQ,8BAA8B;AAC3E,OAAOC,SAAS,MAAM,aAAa;AACnC,OAAO,iBAAiB;;AAExB;AAAA;AAEA,MAAMC,SAAS,SAASN,SAAS,CAAC;EAAA;IAAA;IAAA,KAChCO,KAAK,GAAG;MACNC,YAAY,EAAE,EAAE;MAChBC,OAAO,EAAE,KAAK;MACdC,SAAS,EAAE;IACb,CAAC;IAAA,KAMDC,gBAAgB,GAAG,YAAY;MAC7B,MAAMC,cAAc,GAAG,MAAMT,gBAAgB,EAAE;MAE/C,IAAI,CAACU,QAAQ,CAAC;QACZL,YAAY,EAAEI;MAChB,CAAC,CAAC;IACJ,CAAC;IAAA,KAEDE,YAAY,GAAG,MAAOC,IAAI,IAAK;MAC7B,IAAI,CAACF,QAAQ,CAAE;QACbJ,OAAO,EAAE;MACX,CAAC,CAAE;MAEH,MAAML,UAAU,CAACW,IAAI,CAAC;MAEtB,IAAI,CAACF,QAAQ,CAAE;QACbJ,OAAO,EAAE;MACX,CAAC,CAAE;MAEH,IAAI,CAACE,gBAAgB,EAAE;IACzB,CAAC;EAAA;EAxBDK,iBAAiB,GAAG;IAClB,IAAI,CAACL,gBAAgB,EAAE;EACzB;EAwBAM,MAAM,GAAG;IACP,MAAM;MAAET,YAAY;MAAEE,SAAS;MAAED;IAAQ,CAAC,GAAG,IAAI,CAACF,KAAK;IAEvD,IAAIE,OAAO,EAAE,oBAAO;MAAA,UAAI;IAAa;MAAA;MAAA;MAAA;IAAA,QAAK;IAE1C,oBACE;MAAK,eAAY,gBAAgB;MAAA,wBAC/B,QAAC,MAAM;QAAA;QAAA;QAAA;MAAA,QAAG,eACV;QAAA,UAAI;MAAiB;QAAA;QAAA;QAAA;MAAA,QAAK,EACxB,CAACD,YAAY,gBACX;QAAA,UAAI;MAA2B;QAAA;QAAA;QAAA;MAAA,QAAK,gBAEpC;QAAK,SAAS,EAAC,+BAA+B;QAAA,UAC3CA,YAAY,CAACU,GAAG,CAAC,CAACC,SAAS,EAAEC,KAAK,kBACjC;UAAA,uBACE;YAAA,uBACE,QAAC,SAAS;cACR,KAAK,EAAGA,KAAO;cACf,IAAI,EAAGD,SAAW;cAClB,YAAY,EAAG,IAAI,CAACL,YAAc;cAClC,UAAU,EAAGJ;YAAW;cAAA;cAAA;cAAA;YAAA;UACxB;YAAA;YAAA;YAAA;UAAA;QACC,GARGU,KAAK;UAAA;UAAA;UAAA;QAAA,QAUhB;MAAC;QAAA;QAAA;QAAA;MAAA,QAEL;IAAA;MAAA;MAAA;MAAA;IAAA,QACC;EAEV;AACF;AAEA,eAAed,SAAS;AAExBA,SAAS,CAACe,SAAS,GAAG;EACpBC,aAAa,EAAErB,SAAS,CAACsB,KAAK,CAAC,CAC/B,CAAC;AACH,CAAC,CAACC,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}